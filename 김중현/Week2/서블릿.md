# Section 2. 서블릿
## Hello 서블릿
> 스프링 부트를 이용해 서블릿을 등록하고 사용해보자!
#### HelloServlet
```java
package hello.servlet.basic;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(name = "helloServlet", urlPatterns = "/hello")
public class HelloServlet extends HttpServlet {

    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        System.out.println("HelloServlet.service");
        System.out.println("request = " + request);
        System.out.println("response = " + response);

        String username = request.getParameter("username");
        System.out.println("username = " + username);

        response.setContentType("text/plain");
        response.setCharacterEncoding("utf-8");
        response.getWriter().write("hello " + username);
    }
}
```
- `@WebServlet`: 서블릿 애노테이션
  - name: 서블릿 이름
  - urlPatterns: URL 맵핑
- HTTP 요청을 통해 맵핑된 URL이 호출되면 service 메소드가 호출된다.
- `request.getParameter`로 쉽게 쿼리 파라미터를 조회할 수 있다.
<br>
<br>

### 서블릿 컨테이너 동작 방식
<img width="700" alt="스크린샷 2022-08-05 오후 10 17 18" src="https://user-images.githubusercontent.com/80838501/183085605-c235cb4b-07b2-4de6-93d6-b5defea68de8.png">

- 서버는 request, response 객체를 만들어서 싱글톤으로 떠 있는 helloServlet을 호출해주고, service 메소드가 호출되면서 request, response 객체를 넘겨준다. <br>
  필요한 작업들을 한 후 종료되고 나가면 WAS 서버가 response 정보를 가지고 HTTP 응답 메시지를 만들어 웹 브라우저에 반환한다.
